

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pyspatialml package &mdash; Pyspatialml 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pyspatialml.datasets package" href="pyspatialml.datasets.html" />
    <link rel="prev" title="pyspatialml" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Pyspatialml
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="geoprocessing.html">Raster Geoprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing.html">Preprocessing and Feature Engineering</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling.html">Random Sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="mlworkflow.html">A Machine Learning Example</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">pyspatialml</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">pyspatialml package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pyspatialml.datasets.html">pyspatialml.datasets package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pyspatialml.base">pyspatialml.base module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pyspatialml.plotting">pyspatialml.plotting module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pyspatialml.preprocessing">pyspatialml.preprocessing module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pyspatialml.raster">pyspatialml.raster module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pyspatialml.rasterlayer">pyspatialml.rasterlayer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pyspatialml.utils">pyspatialml.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pyspatialml.vector">pyspatialml.vector module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pyspatialml">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Pyspatialml</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">pyspatialml</a> &raquo;</li>
        
      <li>pyspatialml package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/pyspatialml.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pyspatialml-package">
<h1>pyspatialml package<a class="headerlink" href="#pyspatialml-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyspatialml.datasets.html">pyspatialml.datasets package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyspatialml.datasets.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspatialml.datasets.html#module-pyspatialml.datasets.meuse">pyspatialml.datasets.meuse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspatialml.datasets.html#module-pyspatialml.datasets.nc">pyspatialml.datasets.nc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspatialml.datasets.html#module-pyspatialml.datasets">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pyspatialml.base">
<span id="pyspatialml-base-module"></span><h2>pyspatialml.base module<a class="headerlink" href="#module-pyspatialml.base" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyspatialml.base.BaseRaster">
<em class="property">class </em><code class="sig-prename descclassname">pyspatialml.base.</code><code class="sig-name descname">BaseRaster</code><span class="sig-paren">(</span><em class="sig-param">band</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Base class for Raster and RasterLayer objects</p>
<dl class="method">
<dt id="pyspatialml.base.BaseRaster.extract_raster">
<code class="sig-name descname">extract_raster</code><span class="sig-paren">(</span><em class="sig-param">response</em>, <em class="sig-param">value_name='value'</em>, <em class="sig-param">return_array=False</em>, <em class="sig-param">na_rm=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster.extract_raster" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample a Raster object by an aligned raster of labelled pixels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>response</strong> (<em>rasterio DatasetReader</em>) – Single band raster containing labelled pixels as an open rasterio
DatasetReader object.</p></li>
<li><p><strong>return_array</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em> Default is False</em>) – Optionally return extracted data as separate X, y and xy masked numpy
arrays.</p></li>
<li><p><strong>na_rm</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em> Default is True</em>) – Optionally remove rows that contain nodata values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><em>geopandas.GeoDataFrame</em> – Geodataframe containing extracted data as point features if return_array is False</p></li>
<li><p><em>tuple with three items if return_array is True</em> –</p>
<dl class="simple">
<dt>numpy.ndarray</dt><dd><p>Numpy masked array of extracted raster values, typically 2d.</p>
</dd>
<dt>numpy.ndarray</dt><dd><p>1d numpy masked array of labelled sampled.</p>
</dd>
<dt>numpy.ndarray</dt><dd><p>2d numpy masked array of row and column indexes of training pixels.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.base.BaseRaster.extract_vector">
<code class="sig-name descname">extract_vector</code><span class="sig-paren">(</span><em class="sig-param">response</em>, <em class="sig-param">columns=None</em>, <em class="sig-param">return_array=False</em>, <em class="sig-param">duplicates='keep'</em>, <em class="sig-param">na_rm=True</em>, <em class="sig-param">low_memory=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster.extract_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample a Raster/RasterLayer using a geopandas GeoDataframe containing
points, lines or polygon features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>response</strong> (<em>geopandas.GeoDataFrame</em>) – Containing either point, line or polygon geometries. Overlapping
geometries will cause the same pixels to be sampled.</p></li>
<li><p><strong>columns</strong> (<em>str</em><em> (</em><em>opt</em><em>)</em>) – Column names of attribute to be used the label the extracted data. Used
only if the response feature represents a GeoDataframe.</p></li>
<li><p><strong>return_array</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em> Default is False</em>) – Optionally return extracted data as separate X, y and xy masked numpy
arrays.</p></li>
<li><p><strong>duplicates</strong> (<em>str</em><em> (</em><em>opt</em><em>)</em><em> Default is 'keep'</em>) – Method to deal with duplicates points that fall inside the same pixel.
Available options are [‘keep’, ‘mean’, min’, ‘max’].</p></li>
<li><p><strong>na_rm</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em> Default is True</em>) – Optionally remove rows that contain nodata values if extracted values are
returned as a GeoDataFrame.</p></li>
<li><p><strong>low_memory</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em> Default is False</em>) – Optionally extract pixel values in using a slower but memory-safe method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><em>geopandas.GeoDataframe</em> – Containing extracted data as point geometries if return_array is False</p></li>
<li><p><em>tuple with three items if return_array is True</em> –</p>
<dl class="simple">
<dt>numpy.ndarray</dt><dd><p>Numpy masked array of extracted raster values, typically 2d.</p>
</dd>
<dt>numpy.ndarray</dt><dd><p>1d numpy masked array of labelled sampled.</p>
</dd>
<dt>numpy.ndarray</dt><dd><p>2d numpy masked array of row and column indexes of training
pixels.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.base.BaseRaster.extract_xy">
<code class="sig-name descname">extract_xy</code><span class="sig-paren">(</span><em class="sig-param">xy</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster.extract_xy" title="Permalink to this definition">¶</a></dt>
<dd><p>Samples pixel values using an array of xy locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>xy</strong> (<em>2d array-like</em>) – x and y coordinates from which to sample the raster (n_samples, xy).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2d masked array containing sampled raster values (sample, bands) at x,y
locations.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.base.BaseRaster.head">
<code class="sig-name descname">head</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster.head" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the head (first rows, first columns) or tail (last rows, last columns)
of pixels.</p>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.base.BaseRaster.max">
<code class="sig-name descname">max</code><span class="sig-paren">(</span><em class="sig-param">max_pixels=10000</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster.max" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_pixels</strong> (<em>int</em>) – Number of pixels used to inform statistical estimate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The maximum value of the object’s pixels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.float32</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.base.BaseRaster.mean">
<code class="sig-name descname">mean</code><span class="sig-paren">(</span><em class="sig-param">max_pixels=10000</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Mean value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_pixels</strong> (<em>int</em>) – Number of pixels used to inform statistical estimate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The mean value of the object’s pixels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.float32</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.base.BaseRaster.median">
<code class="sig-name descname">median</code><span class="sig-paren">(</span><em class="sig-param">max_pixels=10000</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster.median" title="Permalink to this definition">¶</a></dt>
<dd><p>Median value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_pixels</strong> (<em>int</em>) – Number of pixels used to inform statistical estimate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The medium value of the object’s pixels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.float32</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.base.BaseRaster.min">
<code class="sig-name descname">min</code><span class="sig-paren">(</span><em class="sig-param">max_pixels=10000</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster.min" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_pixels</strong> (<em>int</em>) – Number of pixels used to inform statistical estimate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The minimum value of the object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.float32</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.base.BaseRaster.plot">
<em class="property">abstract </em><code class="sig-name descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot method to be defined by subclass</p>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.base.BaseRaster.read">
<em class="property">abstract </em><code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read method to be defined by subclass</p>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.base.BaseRaster.sample">
<code class="sig-name descname">sample</code><span class="sig-paren">(</span><em class="sig-param">size</em>, <em class="sig-param">strata=None</em>, <em class="sig-param">return_array=False</em>, <em class="sig-param">random_state=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a random sample of according to size, and samples the pixel
values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>int</em>) – Number of random samples or number of samples per strata if
strategy=’stratified’.</p></li>
<li><p><strong>strata</strong> (<em>rasterio DatasetReader</em><em> (</em><em>opt</em><em>)</em>) – Whether to use stratified instead of random sampling. Strata can be
supplied using an open rasterio DatasetReader object.</p></li>
<li><p><strong>return_array</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em> Default is False</em>) – Optionally return extracted data as separate X, y and xy masked numpy
arrays.</p></li>
<li><p><strong>na_rm</strong> (<em>bool</em><em> (</em><em>opt</em><em>)</em><em> Default is True</em>) – Optionally remove rows that contain nodata values.</p></li>
<li><p><strong>random_state</strong> (<em>int</em><em> (</em><em>opt</em><em>)</em>) – integer to use within random.seed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A tuple containing two elements:
numpy.ndarray</p>
<blockquote>
<div><p>Numpy array of extracted raster values, typically 2d.</p>
</div></blockquote>
<dl class="simple">
<dt>numpy.ndarray</dt><dd><p>2D numpy array of xy coordinates of extracted values.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.base.BaseRaster.tail">
<code class="sig-name descname">tail</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster.tail" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the head (first rows, first columns) or tail (last rows, last columns)
of pixels.</p>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.base.BaseRaster.to_pandas">
<code class="sig-name descname">to_pandas</code><span class="sig-paren">(</span><em class="sig-param">max_pixels=50000</em>, <em class="sig-param">resampling='nearest'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster.to_pandas" title="Permalink to this definition">¶</a></dt>
<dd><p>Raster to pandas DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_pixels</strong> (<em>int</em><em> (</em><em>default 50000</em><em>)</em>) – Maximum number of pixels to sample.</p></li>
<li><p><strong>resampling</strong> (<em>str</em><em> (</em><em>default 'nearest'</em><em>)</em>) – Resampling method to use when applying decimated reads when out_shape is
specified. Supported methods are: ‘average’, ‘bilinear’, ‘cubic’,
‘cubic_spline’, ‘gauss’, ‘lanczos’, ‘max’, ‘med’, ‘min’, ‘mode’, ‘q1’, ‘q3’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame containing values of names of RasterLayers in the Raster as
columns, and pixel values as rows.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.base.BaseRaster.write">
<em class="property">abstract </em><code class="sig-name descname">write</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.base.BaseRaster.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write method to be defined by subclass</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyspatialml.plotting">
<span id="pyspatialml-plotting-module"></span><h2>pyspatialml.plotting module<a class="headerlink" href="#module-pyspatialml.plotting" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pyspatialml.plotting.discrete_cmap">
<code class="sig-prename descclassname">pyspatialml.plotting.</code><code class="sig-name descname">discrete_cmap</code><span class="sig-paren">(</span><em class="sig-param">N</em>, <em class="sig-param">base_cmap=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.plotting.discrete_cmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an N-bin discrete colormap from the specified input map.</p>
<p>Source:
<a class="reference external" href="https://gist.github.com/jakevdp/91077b0cae40f8f8244a">https://gist.github.com/jakevdp/91077b0cae40f8f8244a</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N</strong> (<em>int</em>) – The number of colors in the colormap</p></li>
<li><p><strong>base_cmap</strong> (<em>str</em>) – The name of the matplotlib cmap to convert into a discrete map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The cmap converted to a discrete map.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib.cmap</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyspatialml.plotting.rasterio_normalize">
<code class="sig-prename descclassname">pyspatialml.plotting.</code><code class="sig-name descname">rasterio_normalize</code><span class="sig-paren">(</span><em class="sig-param">arr</em>, <em class="sig-param">axis=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.plotting.rasterio_normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales an array using min-max scaling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> (<em>ndarray</em>) – A numpy array containing the image data.</p></li>
<li><p><strong>axis</strong> (<em>int</em><em> (</em><em>opt</em><em>)</em>) – The axis to perform the normalization along.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The normalized array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyspatialml.plotting.shiftedColorMap">
<code class="sig-prename descclassname">pyspatialml.plotting.</code><code class="sig-name descname">shiftedColorMap</code><span class="sig-paren">(</span><em class="sig-param">cmap</em>, <em class="sig-param">start=0</em>, <em class="sig-param">midpoint=0.5</em>, <em class="sig-param">stop=1.0</em>, <em class="sig-param">name='shiftedcmap'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.plotting.shiftedColorMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to offset the “center” of a colormap. Useful for data with a negative
min and positive max and you want the middle of the colormap’s dynamic range to be
at zero.</p>
<p>Source:
<a class="reference external" href="http://stackoverflow.com/questions/7404116/defining-the-midpoint-of-a-colormap-in-matplotlib">http://stackoverflow.com/questions/7404116/defining-the-midpoint-of-a-colormap-in-matplotlib</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmap</strong> (<em>str</em>) – The matplotlib colormap to be altered</p></li>
<li><p><strong>start</strong> (<em>any number</em>) – Offset from lowest point in the colormap’s range. Defaults to 0.0 (no lower
offset). Should be between 0.0 and <cite>midpoint</cite>.</p></li>
<li><p><strong>midpoint</strong> (<em>any number between 0.0 and 1.0</em>) – The new center of the colormap. Defaults to 0.5 (no shift). In general, this
should be  1 - vmax/(vmax + abs(vmin)). For example if your data range from
-15.0 to +5.0 and you want the center of the colormap at 0.0, <cite>midpoint</cite> should
be set to  1 - 5/(5 + 15)) or 0.75.</p></li>
<li><p><strong>stop</strong> (any number between <cite>midpoint</cite> and 1.0) – Offset from highets point in the colormap’s range. Defaults to 1.0 (no upper
offset).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The colormap with its centre shifted to the midpoint value.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib.cmap</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pyspatialml.preprocessing">
<span id="pyspatialml-preprocessing-module"></span><h2>pyspatialml.preprocessing module<a class="headerlink" href="#module-pyspatialml.preprocessing" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pyspatialml.preprocessing.align_rasters">
<code class="sig-prename descclassname">pyspatialml.preprocessing.</code><code class="sig-name descname">align_rasters</code><span class="sig-paren">(</span><em class="sig-param">rasters</em>, <em class="sig-param">template</em>, <em class="sig-param">outputdir</em>, <em class="sig-param">method='Resampling.nearest'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.preprocessing.align_rasters" title="Permalink to this definition">¶</a></dt>
<dd><p>Aligns a list of rasters (paths to files) to a template raster.
The rasters to that are to be realigned are assumed to represent
single band raster files.</p>
<p>Nodata values are also reclassified to the template raster’s nodata values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rasters</strong> (<em>list</em><em>, </em><em>str</em>) – List containing file paths to multiple rasters that are to be realigned.</p></li>
<li><p><strong>template</strong> (<em>str</em>) – File path to raster that is to be used as a template to transform the
other rasters to.</p></li>
<li><p><strong>outputdir</strong> (<em>str</em>) – Directory to output the realigned rasters. This should not be the
existing directory unless it is desired that the existing rasters to be
realigned should be overwritten.</p></li>
<li><p><strong>method</strong> (<em>str</em>) – <dl class="simple">
<dt>Resampling method to use. One of the following:</dt><dd><p>Resampling.average,
Resampling.bilinear,
Resampling.cubic,
Resampling.cubic_spline,
Resampling.gauss,
Resampling.lanczos,
Resampling.max,
Resampling.med,
Resampling.min,
Resampling.mode,
Resampling.nearest,
Resampling.q1,
Resampling.q3</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyspatialml.preprocessing.distance_to_corners">
<code class="sig-prename descclassname">pyspatialml.preprocessing.</code><code class="sig-name descname">distance_to_corners</code><span class="sig-paren">(</span><em class="sig-param">layer</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.preprocessing.distance_to_corners" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate buffer distances to corner and centre coordinates of raster extent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layer</strong> (<em>pyspatialml.RasterLayer</em><em>, or </em><em>rasterio.DatasetReader</em>) – </p></li>
<li><p><strong>file_path</strong> (<em>str</em><em>, </em><em>optional. Default is None</em>) – File path to save to the resulting Raster object. If not supplied then the
raster is saved to a temporary file.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em>, </em><em>optional. Default is 'GTiff'</em>) – GDAL driver to use to save raster.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyspatialml.preprocessing.distance_to_samples">
<code class="sig-prename descclassname">pyspatialml.preprocessing.</code><code class="sig-name descname">distance_to_samples</code><span class="sig-paren">(</span><em class="sig-param">layer</em>, <em class="sig-param">rows</em>, <em class="sig-param">cols</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.preprocessing.distance_to_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate buffer distances to x,y coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layer</strong> (<em>pyspatialml.RasterLayer</em><em>, or </em><em>rasterio.DatasetReader</em>) – </p></li>
<li><p><strong>rows</strong> (<em>1d numpy array</em>) – array of row indexes.</p></li>
<li><p><strong>cols</strong> (<em>1d numpy array</em>) – array of column indexes.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em>, </em><em>optional. Default=None</em>) – File path to save to the resulting Raster object. If not supplied then the
raster is saved to a temporary file.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em>, </em><em>default='GTiff'</em>) – GDAL driver to use to save raster.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyspatialml.preprocessing.one_hot_encode">
<code class="sig-prename descclassname">pyspatialml.preprocessing.</code><code class="sig-name descname">one_hot_encode</code><span class="sig-paren">(</span><em class="sig-param">layer</em>, <em class="sig-param">categories=None</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.preprocessing.one_hot_encode" title="Permalink to this definition">¶</a></dt>
<dd><p>One-hot encoding of a RasterLayer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layer</strong> (<em>pyspatialml.RasterLayer</em>) – Containing categories to perform one-hot encoding on.</p></li>
<li><p><strong>categories</strong> (<em>list</em><em>, </em><em>ndarray</em><em>, </em><em>optional</em>) – Optional list of categories to extract. Default performs one-hot encoding
on all categorical values in the input layer.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em>, </em><em>optional. Default is None</em>) – File path to save one-hot encoded raster. If not supplied then data
is written to a tempfile.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em>, </em><em>options. Default is 'GTiff'</em>) – GDAL-compatible driver.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Each categorical value is encoded as a layer with a Raster object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyspatialml.preprocessing.reclass_nodata">
<code class="sig-prename descclassname">pyspatialml.preprocessing.</code><code class="sig-name descname">reclass_nodata</code><span class="sig-paren">(</span><em class="sig-param">input</em>, <em class="sig-param">output</em>, <em class="sig-param">src_nodata=None</em>, <em class="sig-param">dst_nodata=-99999</em>, <em class="sig-param">intern=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.preprocessing.reclass_nodata" title="Permalink to this definition">¶</a></dt>
<dd><p>Reclassify raster no data values and save to a new raster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<em>str</em>) – File path to raster that is to be reclassified.</p></li>
<li><p><strong>output</strong> (<em>str</em>) – File path to output raster</p></li>
<li><p><strong>src_nodata</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>optional</em>) – The source nodata value. Pixels with this value will be reclassified
to the new dst_nodata value. If not set, it will default to the nodata value
stored in the source image.</p></li>
<li><p><strong>dst_nodata</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>optional. Default is -99999</em>) – The nodata value that the outout raster will receive after reclassifying
pixels with the src_nodata value.</p></li>
<li><p><strong>itern</strong> (<em>bool</em><em>, </em><em>optional. Default is False</em>) – Optionally return the reclassified raster as a numpy array.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>out</strong> – Raster with reclassified nodata pixels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None, or 2D numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyspatialml.preprocessing.rotated_coordinates">
<code class="sig-prename descclassname">pyspatialml.preprocessing.</code><code class="sig-name descname">rotated_coordinates</code><span class="sig-paren">(</span><em class="sig-param">layer</em>, <em class="sig-param">n_angles=8</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.preprocessing.rotated_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate 2d arrays with n_angles rotated coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layer</strong> (<em>pyspatialml.RasterLayer</em><em>, or </em><em>rasterio.DatasetReader</em>) – RasterLayer to use as a template.</p></li>
<li><p><strong>n_angles</strong> (<em>int</em><em>, </em><em>optional. Default is 8</em>) – Number of angles to rotate coordinate system by.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em>, </em><em>optional. Default is None</em>) – File path to save to the resulting Raster object. If not supplied then the
raster is saved to a temporary file.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em>, </em><em>optional. Default is 'GTiff'</em>) – GDAL driver to use to save raster.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyspatialml.preprocessing.xy_coordinates">
<code class="sig-prename descclassname">pyspatialml.preprocessing.</code><code class="sig-name descname">xy_coordinates</code><span class="sig-paren">(</span><em class="sig-param">layer</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.preprocessing.xy_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill 2d arrays with their x,y indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layer</strong> (<em>pyspatialml.RasterLayer</em><em>, or </em><em>rasterio.DatasetReader</em>) – RasterLayer to use as a template.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em>, </em><em>optional. Default is None</em>) – File path to save to the resulting Raster object. If not supplied then the
raster is saved to a temporary file.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em>, </em><em>options. Default is 'GTiff'</em>) – GDAL driver to use to save raster.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster object</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pyspatialml.raster">
<span id="pyspatialml-raster-module"></span><h2>pyspatialml.raster module<a class="headerlink" href="#module-pyspatialml.raster" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyspatialml.raster.Raster">
<em class="property">class </em><code class="sig-prename descclassname">pyspatialml.raster.</code><code class="sig-name descname">Raster</code><span class="sig-paren">(</span><em class="sig-param">src=None</em>, <em class="sig-param">arr=None</em>, <em class="sig-param">crs=None</em>, <em class="sig-param">transform=None</em>, <em class="sig-param">nodata=None</em>, <em class="sig-param">mode='r'</em>, <em class="sig-param">file_path=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyspatialml.base.BaseRaster" title="pyspatialml.base.BaseRaster"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspatialml.base.BaseRaster</span></code></a></p>
<p>Flexible class that represents a collection of file-based GDAL-supported raster
datasets which share a common coordinate reference system and geometry.</p>
<p>Raster objects encapsulate RasterLayer objects, which represent single band raster
datasets that can physically be represented by either separate single-band raster
files, multi-band raster files, or any combination of individual bands from
multi-band raster and single-band raster datasets.</p>
<p>Methods defined in a Raster class comprise those that would typically applied to
a stack of raster datasets. In addition, these methods always return a new Raster
object.</p>
<dl class="method">
<dt id="pyspatialml.raster.Raster.aggregate">
<code class="sig-name descname">aggregate</code><span class="sig-paren">(</span><em class="sig-param">out_shape</em>, <em class="sig-param">resampling='nearest'</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em>, <em class="sig-param">dtype=None</em>, <em class="sig-param">nodata=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.aggregate" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates a raster to (usually) a coarser grid cell size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_shape</strong> (<em>tuple</em>) – New shape in (rows, cols).</p></li>
<li><p><strong>resampling</strong> (<em>str</em><em> (</em><em>default 'nearest'</em><em>)</em>) – Resampling method to use when applying decimated reads when out_shape is
specified. Supported methods are: ‘average’, ‘bilinear’, ‘cubic’, ‘cubic_spline’,
‘gauss’, ‘lanczos’, ‘max’, ‘med’, ‘min’, ‘mode’, ‘q1’, ‘q3’.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – File path to save to cropped raster. If not supplied then the aggregated
raster is saved to a temporary file.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Coerce RasterLayers to the specified dtype. If not specified then the new
intersected Raster is created using the dtype of the existing Raster dataset,
which uses a dtype that can accommodate the data types of all of the
individual RasterLayers.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for new dataset. If not specified then a nodata value is set
based on the minimum permissible value of the Raster’s dtype. Note that
this does not change the pixel nodata values of the raster, it only changes
the metadata of what value represents a nodata pixel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raster object aggregated to a new pixel size.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">in_place=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to add new RasterLayers to a Raster object.</p>
<p>Note that this modifies the Raster object in-place by default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>other</strong> (<em>Raster object</em><em>, or </em><em>list of Raster objects</em>) – Object to append to the Raster.</p></li>
<li><p><strong>in_place</strong> (<em>bool</em><em> (</em><em>default True</em><em>)</em>) – Whether to change the Raster object in-place or leave original and return
a new Raster object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returned only if <cite>in_place</cite> is True</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.apply">
<code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param">function</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em>, <em class="sig-param">dtype=None</em>, <em class="sig-param">nodata=None</em>, <em class="sig-param">progress=False</em>, <em class="sig-param">n_jobs=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply user-supplied function to a Raster object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function</strong> (<em>function</em>) – Function that takes an numpy array as a single argument.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optional path to save calculated Raster object. If not specified then a
tempfile is used.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Coerce RasterLayers to the specified dtype. If not specified then the new
Raster is created using the dtype of the calculation result.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for new dataset. If not specified then a nodata value is set
based on the minimum permissible value of the Raster’s data type. Note that
this changes the values of the pixels that represent nodata pixels.</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em><em> (</em><em>default -1</em><em>)</em>) – Number of processing cores to use for parallel execution. Default of -1 is all cores.</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Optionally show progress of transform operations.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raster containing the calculated result.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.astype">
<code class="sig-name descname">astype</code><span class="sig-paren">(</span><em class="sig-param">dtype</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em>, <em class="sig-param">nodata=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.astype" title="Permalink to this definition">¶</a></dt>
<dd><p>Coerce Raster to a different dtype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dtype</strong> (<em>str</em><em> or </em><em>np.dtype</em>) – Datatype to coerce Raster object</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optional path to save calculated Raster object. If not specified then a
tempfile is used.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for new dataset. If not specified then a nodata value is set
based on the minimum permissible value of the Raster’s data type. Note that
this changes the values of the pixels that represent nodata pixels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.block_shape">
<em class="property">property </em><code class="sig-name descname">block_shape</code><a class="headerlink" href="#pyspatialml.raster.Raster.block_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the windows size used for raster calculations, specified as a tuple
(rows, columns).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Block window shape that is currently set for the Raster as a tuple in the
format of (n_rows, n_columns) in pixels.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.block_shapes">
<code class="sig-name descname">block_shapes</code><span class="sig-paren">(</span><em class="sig-param">rows</em>, <em class="sig-param">cols</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.block_shapes" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for windows for optimal reading and writing based on the raster
format Windows are returns as a tuple with xoff, yoff, width, height.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rows</strong> (<em>int</em>) – Height of window in rows.</p></li>
<li><p><strong>cols</strong> (<em>int</em>) – Width of window in columns.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close all of the RasterLayer objects in the Raster.</p>
<p>Note that this will cause any rasters based on temporary files to be removed.
This is intended as a method of clearing temporary files that may have
accumulated during an analysis session.</p>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.crop">
<code class="sig-name descname">crop</code><span class="sig-paren">(</span><em class="sig-param">bounds</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em>, <em class="sig-param">dtype=None</em>, <em class="sig-param">nodata=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.crop" title="Permalink to this definition">¶</a></dt>
<dd><p>Crops a Raster object by the supplied bounds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bounds</strong> (<em>tuple</em>) – A tuple containing the bounding box to clip by in the form of
(xmin, ymin, xmax, ymax).</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – File path to save to cropped raster. If not supplied then the cropped raster
is saved to a temporary file.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em><em> Default is 'GTiff'</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Coerce RasterLayers to the specified dtype. If not specified then the new
intersected Raster is created using the dtype of the existing Raster
dataset, which uses a dtype that can accommodate the data types of all of
the individual RasterLayers.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for new dataset. If not specified then a nodata value is set
based on the minimum permissible value of the Raster’s data type. Note that
this does not change the pixel nodata values of the raster, it only changes
the metadata of what value represents a nodata pixel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raster cropped to new extent.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.drop">
<code class="sig-name descname">drop</code><span class="sig-paren">(</span><em class="sig-param">labels</em>, <em class="sig-param">in_place=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Drop individual RasterLayers from a Raster object</p>
<p>Note that this modifies the Raster object in-place by default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> (<em>single label</em><em> or </em><em>list-like</em>) – Index (int) or layer name to drop. Can be a single integer or label, or a
list of integers or labels.</p></li>
<li><p><strong>in_place</strong> (<em>bool</em><em> (</em><em>default True</em><em>)</em>) – Whether to change the Raster object in-place or leave original and return
a new Raster object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returned only if <cite>in_place</cite> is True</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.intersect">
<code class="sig-name descname">intersect</code><span class="sig-paren">(</span><em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em>, <em class="sig-param">dtype=None</em>, <em class="sig-param">nodata=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.intersect" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a intersect operation on the Raster object.</p>
<p>Computes the geometric intersection of the RasterLayers with the Raster object.
This will cause nodata values in any of the rasters to be propagated through
all of the output rasters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – File path to save to resulting Raster. If not supplied then the resulting
Raster is saved to a temporary file.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Coerce RasterLayers to the specified dtype. If not specified then the new
intersected Raster is created using the dtype of the existing Raster dataset,
which uses a dtype that can accommodate the data types of all of the
individual RasterLayers.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for new dataset. If not specified then a nodata value is set
based on the minimum permissible value of the Raster’s data type. Note that
this changes the values of the pixels that represent nodata to the new
value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raster with layers that are masked based on a union of all masks in the
suite of RasterLayers.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.mask">
<code class="sig-name descname">mask</code><span class="sig-paren">(</span><em class="sig-param">shapes</em>, <em class="sig-param">invert=False</em>, <em class="sig-param">crop=True</em>, <em class="sig-param">pad=False</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em>, <em class="sig-param">dtype=None</em>, <em class="sig-param">nodata=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Mask a Raster object based on the outline of shapes in a
geopandas.GeoDataFrame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shapes</strong> (<em>geopandas.GeoDataFrame</em>) – GeoDataFrame containing masking features.</p></li>
<li><p><strong>invert</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – If False then pixels outside shapes will be masked. If True then pixels
inside shape will be masked.</p></li>
<li><p><strong>crop</strong> (<em>bool</em><em> (</em><em>default True</em><em>)</em>) – Crop the raster to the extent of the shapes.</p></li>
<li><p><strong>pad</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – If True, the features will be padded in each direction by one half of a
pixel prior to cropping raster.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – File path to save to resulting Raster. If not supplied then the resulting
Raster is saved to a temporary file</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Coerce RasterLayers to the specified dtype. If not specified then the
cropped Raster is created using the existing dtype, which uses a dtype that
can accommodate the data types of all of the individual RasterLayers.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for cropped dataset. If not specified then a nodata value is
set based on the minimum permissible value of the Raster’s data type. Note
that this changes the values of the pixels to the new nodata value, and changes
the metadata of the raster.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.names">
<em class="property">property </em><code class="sig-name descname">names</code><a class="headerlink" href="#pyspatialml.raster.Raster.names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the names of the RasterLayers in the Raster object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of names of RasterLayer objects</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param">out_shape=(100</em>, <em class="sig-param">100)</em>, <em class="sig-param">label_fontsize=8</em>, <em class="sig-param">title_fontsize=8</em>, <em class="sig-param">names=None</em>, <em class="sig-param">fig_kwds=None</em>, <em class="sig-param">legend_kwds=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a Raster object as a raster matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_shape</strong> (<em>tuple</em><em> (</em><em>default</em><em> (</em><em>100</em><em>, </em><em>100</em><em>)</em><em>)</em>) – Number of rows, cols to read from the raster datasets for plotting.</p></li>
<li><p><strong>label_fontsize</strong> (<em>any number</em><em> (</em><em>default 8</em><em>)</em>) – Size in pts of labels.</p></li>
<li><p><strong>title_fontsize</strong> (<em>any number</em><em> (</em><em>default 8</em><em>)</em>) – Size in pts of titles.</p></li>
<li><p><strong>names</strong> (<em>list</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optionally supply a list of names for each RasterLayer to override the
default layer names for the titles.</p></li>
<li><p><strong>fig_kwds</strong> (<em>dict</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Additional arguments to pass to the matplotlib.pyplot.figure call when
creating the figure object.</p></li>
<li><p><strong>legend_kwds</strong> (<em>dict</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Additional arguments to pass to the matplotlib.pyplot.colorbar call when
creating the colorbar object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>axs</strong> – array of matplotlib.axes._subplots.AxesSubplot or a single
matplotlib.axes._subplots.AxesSubplot if Raster object contains only a
single layer.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">estimator</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em>, <em class="sig-param">dtype=None</em>, <em class="sig-param">nodata=None</em>, <em class="sig-param">as_df=False</em>, <em class="sig-param">n_jobs=-1</em>, <em class="sig-param">progress=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply prediction of a scikit learn model to a Raster.</p>
<p>The model can represent any scikit learn model or compatible api with a <cite>fit</cite>
and <cite>predict</cite> method. These can consist of classification or regression models.
Multi-class classifications and multi-target regressions are also supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>estimator</strong> (<em>estimator object implementing 'fit'</em>) – The object to use to fit the data.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Path to a GeoTiff raster for the prediction results. If not specified then
the output is written to a temporary file.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optionally specify a numpy compatible data type when saving to file. If not
specified, a data type is set based on the data types of the prediction.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for file export. If not specified then the nodata value is
derived from the minimum permissible value for the given data type.</p></li>
<li><p><strong>as_df</strong> (<em>bool</em><em> (</em><em>default is False</em><em>)</em>) – Whether to read the raster data via pandas before prediction. This can be
useful if transformers are being used as part of a pipeline and you want
to refer to column names rather than indices.</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em><em> (</em><em>default -1</em><em>)</em>) – Number of processing cores to use for parallel execution. Default is
n_jobs=1. -1 is all cores; -2 is all cores -1.</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Show progress bar for prediction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raster object containing prediction results as a RasterLayers. For
classification and regression models, the Raster will contain a single
RasterLayer, unless the model is multi-class or multi-target. Layers
are named automatically as <cite>pred_raw_n</cite> with n = 1, 2, 3 ..n.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatial.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.predict_proba">
<code class="sig-name descname">predict_proba</code><span class="sig-paren">(</span><em class="sig-param">estimator</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">indexes=None</em>, <em class="sig-param">driver='GTiff'</em>, <em class="sig-param">dtype=None</em>, <em class="sig-param">nodata=None</em>, <em class="sig-param">as_df=False</em>, <em class="sig-param">progress=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply class probability prediction of a scikit learn model to a Raster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>estimator</strong> (<em>estimator object implementing 'fit'</em>) – The object to use to fit the data.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Path to a GeoTiff raster for the prediction results. If not specified then
the output is written to a temporary file.</p></li>
<li><p><strong>indexes</strong> (<em>list of integers</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – List of class indices to export. In some circumstances, only a subset of
the class probability estimations are desired, for instance when performing
a binary classification only the probabilities for the positive class may
be desired.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optionally specify a numpy compatible data type when saving to file. If not
specified, a data type is set based on the data type of the prediction.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for file export. If not specified then the nodata value is
derived from the minimum permissible value for the given data type.</p></li>
<li><p><strong>as_df</strong> (<em>bool</em><em> (</em><em>default is False</em><em>)</em>) – Whether to read the raster data via pandas before prediction. This can be
useful if transformers are being used as part of a pipeline and you want
to refer to column names rather than indices.</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Show progress bar for prediction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Raster containing predicted class probabilities. Each predicted class is
represented by a RasterLayer object. The RasterLayers are named <cite>prob_n</cite>
for 1,2,3..n, with <cite>n</cite> based on the index position of the classes, not the
number of the class itself.</p>
<p>For example, a classification model predicting classes with integer values
of 1, 3, and 5 would result in three RasterLayers named prob_1, prob_2 and
prob_3.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param">masked=False</em>, <em class="sig-param">window=None</em>, <em class="sig-param">out_shape=None</em>, <em class="sig-param">resampling='nearest'</em>, <em class="sig-param">as_df=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads data from the Raster object into a numpy array.</p>
<p>Overrides read BaseRaster class read method and replaces it with a method that
reads from multiple RasterLayer objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>masked</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Read data into a masked array.</p></li>
<li><p><strong>window</strong> (<em>rasterio.window.Window object</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Tuple of col_off, row_off, width, height of a window of data to read a chunk
of data into a ndarray.</p></li>
<li><p><strong>out_shape</strong> (<em>tuple</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Shape of shape of array (rows, cols) to read data into using decimated reads.</p></li>
<li><p><strong>resampling</strong> (<em>str</em><em> (</em><em>default 'nearest'</em><em>)</em>) – Resampling method to use when applying decimated reads when out_shape is
specified. Supported methods are: ‘average’, ‘bilinear’, ‘cubic’,
‘cubic_spline’, ‘gauss’, ‘lanczos’, ‘max’, ‘med’, ‘min’, ‘mode’, ‘q1’, ‘q3’.</p></li>
<li><p><strong>as_df</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Whether to return the data as a pandas.DataFrame with columns named by the
RasterLayer names. Can be useful when using scikit-learn ColumnTransformer
to select columns based on names rather than keeping track of indexes.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Other arguments to pass to rasterio.DatasetReader.read method</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raster values in 3d ndarray  with the dimensions in order of (band, row,
and column).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.rename">
<code class="sig-name descname">rename</code><span class="sig-paren">(</span><em class="sig-param">names</em>, <em class="sig-param">in_place=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename a RasterLayer within the Raster object.</p>
<p>Note that by default this modifies the Raster object in-place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>names</strong> (<em>dict</em>) – dict of old_name : new_name</p></li>
<li><p><strong>in_place</strong> (<em>bool</em><em> (</em><em>default True</em><em>)</em>) – Whether to change names of the Raster object in-place or leave original
and return a new Raster object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returned only if <cite>in_place</cite> is True</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.to_crs">
<code class="sig-name descname">to_crs</code><span class="sig-paren">(</span><em class="sig-param">crs</em>, <em class="sig-param">resampling='nearest'</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em>, <em class="sig-param">nodata=None</em>, <em class="sig-param">n_jobs=1</em>, <em class="sig-param">warp_mem_lim=0</em>, <em class="sig-param">progress=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.to_crs" title="Permalink to this definition">¶</a></dt>
<dd><p>Reprojects a Raster object to a different crs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>crs</strong> (<em>rasterio.transform.CRS object</em><em>, or </em><em>dict</em>) – Example: CRS({‘init’: ‘EPSG:4326’})</p></li>
<li><p><strong>resampling</strong> (<em>str</em><em> (</em><em>default 'nearest'</em><em>)</em>) – Resampling method to use.  One of the following:
nearest,
bilinear,
cubic,
cubic_spline,
lanczos,
average,
mode,
max (GDAL &gt;= 2.2),
min (GDAL &gt;= 2.2),
med (GDAL &gt;= 2.2),
q1 (GDAL &gt;= 2.2),
q3 (GDAL &gt;= 2.2)</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optional path to save reprojected Raster object. If not specified then a
tempfile is used.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for new dataset. If not specified then the existing nodata
value of the Raster object is used, which can accommodate the dtypes of the
individual layers in the Raster.</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em><em> (</em><em>default 1</em><em>)</em>) – The number of warp worker threads.</p></li>
<li><p><strong>warp_mem_lim</strong> (<em>int</em><em> (</em><em>default 0</em><em>)</em>) – The warp operation memory limit in MB. Larger values allow the warp
operation to be carried out in fewer chunks. The amount of memory required
to warp a 3-band uint8 2000 row x 2000 col raster to a destination of the
same size is approximately 56 MB. The default (0) means 64 MB with GDAL 2.2.</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – Optionally show progress of transform operations.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raster following reprojection.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.Raster</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.raster.Raster.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param">file_path</em>, <em class="sig-param">driver='GTiff'</em>, <em class="sig-param">dtype=None</em>, <em class="sig-param">nodata=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.raster.Raster.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the Raster object to a file.</p>
<p>Overrides the write RasterBase class method, which is a partial function of the
rasterio.DatasetReader.write method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – File path used to save the Raster object.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default is 'GTiff'</em><em>)</em><em></em>) – Name of GDAL driver used to save Raster data.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>opt</em><em>, </em><em>default None</em><em>)</em>) – Optionally specify a numpy compatible data type when saving to file. If not
specified, a data type is selected based on the data types of RasterLayers
in the Raster object.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>opt</em><em>, </em><em>default None</em><em>)</em>) – Optionally assign a new nodata value when saving to file. If not specified
a nodata value based on the minimum permissible value for the data types of
RasterLayers in the Raster object is used. Note that this does not change
the pixel nodata values of the raster, it only changes the metadata of what
value represents a nodata pixel.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New Raster object from saved file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyspatialml.raster.Raster" title="pyspatialml.raster.Raster">Raster</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyspatialml.rasterlayer">
<span id="pyspatialml-rasterlayer-module"></span><h2>pyspatialml.rasterlayer module<a class="headerlink" href="#module-pyspatialml.rasterlayer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyspatialml.rasterlayer.RasterLayer">
<em class="property">class </em><code class="sig-prename descclassname">pyspatialml.rasterlayer.</code><code class="sig-name descname">RasterLayer</code><span class="sig-paren">(</span><em class="sig-param">band</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyspatialml.base.BaseRaster" title="pyspatialml.base.BaseRaster"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspatialml.base.BaseRaster</span></code></a></p>
<p>Represents a single raster band derived from a single or multi-band raster
dataset</p>
<p>Simple wrapper around a rasterio.Band object with additional methods. Used because
the Rasterio.Band.ds.read method reads all bands from a multi-band dataset, whereas
the RasterLayer read method only reads a single band.</p>
<p>Methods encapsulated in RasterLayer objects represent those that typically would
only be applied to a single-band of a raster, i.e. sieve-clump, distance to non-NaN
pixels, or arithmetic operations on individual layers.</p>
<dl class="method">
<dt id="pyspatialml.rasterlayer.RasterLayer.distance">
<code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em>, <em class="sig-param">nodata=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate euclidean grid distances to non-NaN pixels</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optional path to save calculated Raster object. If not specified then a
tempfile is used.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for new dataset. If not specified then a nodata value is set
based on the minimum permissible value of the Raster’s data type.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Grid distance raster</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.RasterLayer</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.rasterlayer.RasterLayer.fill">
<code class="sig-name descname">fill</code><span class="sig-paren">(</span><em class="sig-param">mask=None</em>, <em class="sig-param">max_search_distance=100</em>, <em class="sig-param">smoothing_iterations=0</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em>, <em class="sig-param">dtype=None</em>, <em class="sig-param">nodata=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill nodata gaps in a RasterLayer</p>
<p>Thin wrapper around the rasterio.fill.fillnodata method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask</strong> (<em>numpy.ndarray</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optionally provide a numpy array to indice which pixels to fill. Pixels
designated to fill should have zero values in the mask, and values &gt; 0 in
the mask indicate pixels to use for interpolation.</p></li>
<li><p><strong>max_search_distance</strong> (<em>float</em><em> (</em><em>default 100</em><em>)</em>) – The maximum number of pixels in all directions to use for interpolation.</p></li>
<li><p><strong>smoothing_iterations</strong> (<em>integer</em><em> (</em><em>default 0</em><em>)</em>) – The number of 3x3 smoothing filter passes to run. The default is 0.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optional path to save calculated Raster object. If not specified then a
tempfile is used.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for new dataset. If not specified then a nodata value is set
based on the minimum permissible value of the Raster’s data type.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optionally specify a numpy compatible data type when saving to file. If not
specified, a data type is set based on the data type of the RasterLayer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filled RasterLayer</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.RasterLayer</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.rasterlayer.RasterLayer.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param">cmap=None</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">cax=None</em>, <em class="sig-param">figsize=None</em>, <em class="sig-param">categorical=None</em>, <em class="sig-param">legend=False</em>, <em class="sig-param">vmin=None</em>, <em class="sig-param">vmax=None</em>, <em class="sig-param">legend_kwds=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a RasterLayer using matplotlib.pyplot.imshow</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmap</strong> (<em>str</em><em> (</em><em>default None</em><em>)</em>) – The name of a colormap recognized by matplotlib.</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.pyplot.Artist</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – axes instance on which to draw to plot.</p></li>
<li><p><strong>cax</strong> (<em>matplotlib.pyplot.Artist</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – axes on which to draw the legend.</p></li>
<li><p><strong>figsize</strong> (<em>tuple of integers</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Size of the matplotlib.figure.Figure. If the ax argument is given
explicitly, figsize is ignored.</p></li>
<li><p><strong>categorical</strong> (<em>bool</em><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – if True then the raster values will be considered to represent discrete
values, otherwise they are considered to represent continuous values. This
overrides the  RasterLayer ‘categorical’ attribute. Setting the argument
categorical to True is ignored if the RasterLayer.categorical is already
True.</p></li>
<li><p><strong>legend</strong> (<em>bool</em><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – Whether to plot the legend.</p></li>
<li><p><strong>xmax</strong> (<em>vmin</em><em>,</em>) – vmin and vmax define the data range that the colormap covers. By default,
the colormap covers the complete value range of the supplied data. vmin,
vmax are ignored if the norm parameter is used.</p></li>
<li><p><strong>legend_kwds</strong> (<em>dict</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Keyword arguments to pass to matplotlib.pyplot.colorbar().</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ax</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib axes instance</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.rasterlayer.RasterLayer.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read method for a single RasterLayer.</p>
<p>Reads the pixel values from a RasterLayer into a ndarray that always
will have two dimensions in the order of (rows, columns).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>**kwargs</strong> (<em>named arguments that can be passed to the the</em>) – </p></li>
<li><p><strong>method.</strong> (<em>rasterio.DatasetReader.read</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.rasterlayer.RasterLayer.sieve">
<code class="sig-name descname">sieve</code><span class="sig-paren">(</span><em class="sig-param">size=2</em>, <em class="sig-param">mask=None</em>, <em class="sig-param">connectivity=4</em>, <em class="sig-param">file_path=None</em>, <em class="sig-param">driver='GTiff'</em>, <em class="sig-param">nodata=None</em>, <em class="sig-param">dtype=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.sieve" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace pixels with their largest neighbor</p>
<p>Thin wrapper around the rasterio.features.sieve method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>integer</em><em> (</em><em>default 2</em><em>)</em>) – Minimum number of contigous pixels to retain</p></li>
<li><p><strong>mask</strong> (<em>ndarray</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Values of False or 0 will be excluded from the sieving process</p></li>
<li><p><strong>connectivity</strong> (<em>integer</em><em> (</em><em>default 4</em><em>)</em>) – Use 4 or 8 pixel connectivity for grouping pixels into features.
Default is 4.</p></li>
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optional path to save calculated Raster object. If not
specified then a tempfile is used.</p></li>
<li><p><strong>driver</strong> (<em>str</em><em> (</em><em>default 'GTiff'</em><em>)</em>) – Named of GDAL-supported driver for file export.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Nodata value for new dataset. If not specified then a nodata value is set
based on the minimum permissible value of the Raster’s data type.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>optional</em><em>, </em><em>default None</em><em>)</em>) – Optionally specify a numpy compatible data type when saving to file. If not
specified, a data type is set based on the data type of the RasterLayer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filled RasterLayer</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.RasterLayer</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspatialml.rasterlayer.RasterLayer.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param">file_path</em>, <em class="sig-param">driver='GTiff'</em>, <em class="sig-param">dtype=None</em>, <em class="sig-param">nodata=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.rasterlayer.RasterLayer.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write method for a single RasterLayer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em><em> (</em><em>opt</em><em>)</em>) – File path to save the dataset.</p></li>
<li><p><strong>driver</strong> (<em>str</em>) – GDAL-compatible driver used for the file format.</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> (</em><em>opt</em><em>)</em>) – Numpy dtype used for the file. If omitted then the RasterLayer’s dtype is
used.</p></li>
<li><p><strong>nodata</strong> (<em>any number</em><em> (</em><em>opt</em><em>)</em>) – A value used to represent the nodata pixels. If omitted then the RasterLayer’s
nodata value is used (if assigned already).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyspatialml.RasterLayer</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyspatialml.utils">
<span id="pyspatialml-utils-module"></span><h2>pyspatialml.utils module<a class="headerlink" href="#module-pyspatialml.utils" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pyspatialml.vector">
<span id="pyspatialml-vector-module"></span><h2>pyspatialml.vector module<a class="headerlink" href="#module-pyspatialml.vector" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pyspatialml.vector.filter_points">
<code class="sig-prename descclassname">pyspatialml.vector.</code><code class="sig-name descname">filter_points</code><span class="sig-paren">(</span><em class="sig-param">gdf</em>, <em class="sig-param">min_dist=0</em>, <em class="sig-param">remove='first'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.vector.filter_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter points in geodataframe using a minimum distance buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gdf</strong> (<em>Geopandas GeoDataFrame</em>) – Containing point geometries.</p></li>
<li><p><strong>min_dist</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>optional</em><em> (</em><em>default=0</em><em>)</em>) – Minimum distance by which to filter out closely spaced points.</p></li>
<li><p><strong>remove</strong> (<em>str</em><em>, </em><em>optional</em><em> (</em><em>default='first'</em><em>)</em>) – Optionally choose to remove ‘first’ occurrences or ‘last’ occurrences.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>xy</strong> – Numpy array filtered coordinates</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2d array-like</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyspatialml.vector.get_random_point_in_polygon">
<code class="sig-prename descclassname">pyspatialml.vector.</code><code class="sig-name descname">get_random_point_in_polygon</code><span class="sig-paren">(</span><em class="sig-param">poly</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspatialml.vector.get_random_point_in_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates random shapely Point geometry objects within a single
shapely Polygon object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>poly</strong> (<em>Shapely Polygon object</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Shapely Point object</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pyspatialml">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pyspatialml" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pyspatialml.datasets.html" class="btn btn-neutral float-right" title="pyspatialml.datasets package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="modules.html" class="btn btn-neutral float-left" title="pyspatialml" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Steven Pawley

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>